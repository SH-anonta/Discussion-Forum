{%extends 'forum/layout_base_template.html'%}

{%block HeadContent%}
    <title>Members</title>
{%endblock%}

{%block MainContent%}
    <div class="container">
        <div class="row mt-3 mb-3">
            <div class="col-sm-12">
                <h5>Members</h5>
            </div>

        </div>

        <div class="row">
            <div class="col-sm-12">
                <table id="UserListTable" class="table table-striped">
                    <tr>
                        <th>User Name</th>
                        <th>Posts</th>
                        <th>Replies</th>
                    </tr>
                    
                    {%for member in user_list%}
                    <tr>
                        <td>
                            <a href="{%url 'forum:user_detail' member.pk%}">{{member.username}}</a>
                        </td>
                        <td>{{member.userprofile.postCount}}</td>
                        <td>{{member.userprofile.replyCount}}</td>
                    </tr>
                        
                    {%endfor%}
                </table>

            </div>

        </div>

    <div id="PaginatorRow" class="row mt-3 mb-3">
        <div class="col-sm-12 text-center">
            {%if user_list.has_previous%}
                <a class="btn btn-pagination" href="{%url 'forum:user_list'%}?page={{user_list.previous_page_number }}">
                    Previous
                </a>
            {%else%}
                <a class="btn btn-disabled btn-pagination" href="#">
                    Previous
                </a>
            {%endif%}

                <h5 class="h5 current ml-3 mr-3 d-inline">
                    Page {{ user_list.number }} of {{ user_list.paginator.num_pages }}

                </h5>

            {%if user_list.has_next%}
                <a class="btn btn-pagination" href="{%url 'forum:user_list'%}?page={{user_list.next_page_number }}">
                    Next
                </a>
            {%else%}
                <a class="btn btn-disabled btn-pagination" href="#">
                    Next
                </a>
            {%endif%}
        </div>
    </div>

    </div>
{%endblock%}

{%block PageStyles%}
<style>
    #UserListTable{
        max-height: 100%;
    }
</style>
{%endblock%}
